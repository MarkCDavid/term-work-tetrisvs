//
// Created by Mark David on 18/03/2019.
//
#include "../../lib/curses/curses.h"
#include "menu.h"
#include <string>
#include <locale>
#include <codecvt>

int Menu::Update(float delta_time) {
    return 0;
}

void Menu::InitialDraw() {

    int width = 117;
    start_color();
    init_pair(1, COLOR_RED, COLOR_BLACK);
    init_pair(2, COLOR_GREEN, COLOR_BLACK);
    init_pair(3, COLOR_YELLOW, COLOR_BLACK);
    init_pair(4, COLOR_MAGENTA, COLOR_BLACK);
    init_pair(5, COLOR_CYAN, COLOR_BLACK);
    init_pair(6, COLOR_YELLOW, COLOR_BLACK);
    std::wstring title_top =
            L"▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓   ▓▓▓▓▓▓▓▓▓▓   ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ "
            "▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓  ▓▒▒▒▒▒▒▒▒▓ ▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓"
            "▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▓▓▓▓▓▓▒▒▒▒▒▓ ▓▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▓▓▓▓▓▓▒▒▒▒▒▒▓"
            "▓▒▒▒▒▒▓▓▒▒▒▒▒▒▒▓▓▒▒▒▒▒▓▓▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▒▒▒▒▓▓▒▒▒▒▒▓▓▒▒▒▒▒▒▒▓▓▒▒▒▒▒▓▓▓▒▒▒▒▒▓     ▓▒▒▒▒▒▓▓▓▒▒▒▒▒▒▓▓▓▒▒▒▒▒▓     ▓▓▓▓▓▓▓"
            "▓▓▓▓▓▓  ▓▒▒▒▒▒▓  ▓▓▓▓▓▓  ▓▒▒▒▒▒▓       ▓▓▓▓▓▓▓▓▓▓▓▓  ▓▒▒▒▒▒▓  ▓▓▓▓▓▓  ▓▒▒▒▒▓     ▓▒▒▒▒▒▓  ▓▒▒▒▒▓  ▓▒▒▒▒▒▓            "
            "        ▓▒▒▒▒▒▓          ▓▒▒▒▒▒▓                     ▓▒▒▒▒▒▓          ▓▒▒▒▒▓     ▓▒▒▒▒▒▓  ▓▒▒▒▒▓  ▓▒▒▒▒▒▓            "
            "        ▓▒▒▒▒▒▓          ▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓           ▓▒▒▒▒▒▓          ▓▒▒▒▒▓▓▓▓▓▓▒▒▒▒▒▓   ▓▒▒▒▒▓   ▓▒▒▒▒▓▓▓▓         "
            "        ▓▒▒▒▒▒▓          ▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓           ▓▒▒▒▒▒▓          ▓▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓    ▓▒▒▒▒▓    ▓▓▒▒▒▒▒▒▓▓▓▓▓    "
            "        ▓▒▒▒▒▒▓          ▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓           ▓▒▒▒▒▒▓          ▓▒▒▒▒▓▓▓▓▓▓▒▒▒▒▒▓   ▓▒▒▒▒▓      ▓▓▓▒▒▒▒▒▒▒▒▓▓  "
            "        ▓▒▒▒▒▒▓          ▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓           ▓▒▒▒▒▒▓          ▓▒▒▒▒▓     ▓▒▒▒▒▒▓  ▓▒▒▒▒▓         ▓▓▓▓▓▓▒▒▒▒▓ "
            "        ▓▒▒▒▒▒▓          ▓▒▒▒▒▒▓                     ▓▒▒▒▒▒▓          ▓▒▒▒▒▓     ▓▒▒▒▒▒▓  ▓▒▒▒▒▓              ▓▒▒▒▒▒▓"
            "        ▓▒▒▒▒▒▓          ▓▒▒▒▒▒▓       ▓▓▓▓▓▓        ▓▒▒▒▒▒▓          ▓▒▒▒▒▓     ▓▒▒▒▒▒▓  ▓▒▒▒▒▓              ▓▒▒▒▒▒▓"
            "      ▓▓▒▒▒▒▒▒▒▓▓      ▓▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓▒▒▒▒▒▓      ▓▓▒▒▒▒▒▒▒▓▓      ▓▓▒▒▒▒▒▓     ▓▒▒▒▒▒▓▓▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓     ▓▒▒▒▒▒▓"
            "      ▓▒▒▒▒▒▒▒▒▒▓      ▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓      ▓▒▒▒▒▒▒▒▒▒▓      ▓▒▒▒▒▒▒▓     ▓▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▓▓▓▓▓▓▒▒▒▒▒▓"
            "      ▓▒▒▒▒▒▒▒▒▒▓      ▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓      ▓▒▒▒▒▒▒▒▒▒▓      ▓▒▒▒▒▒▒▓     ▓▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓ "
            "      ▓▓▓▓▓▓▓▓▓▓▓      ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓      ▓▓▓▓▓▓▓▓▓▓▓      ▓▓▓▓▓▓▓▓     ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓   ";
    std::wstring title_bottom =
            L"▓▓▓▓▓▓▓           ▓▓▓▓▓▓▓   ▓▓▓▓▓▓▓▓▓▓▓   "
            " ▓▒▒▒▒▒▓         ▓▒▒▒▒▒▓   ▓▒▒▒▒▒▒▒▒▒▒▒▓  "
            "  ▓▒▒▒▒▒▓       ▓▒▒▒▒▒▓   ▓▒▒▒▒▒▒▒▒▒▒▒▒▒▓ "
            "   ▓▒▒▒▒▒▓     ▓▒▒▒▒▒▓   ▓▒▒▒▒▒▒▓▓▓▓▒▒▒▒▒▓"
            "    ▓▒▒▒▒▒▓   ▓▒▒▒▒▒▓     ▓▒▒▒▒▒▓  ▓▓▓▓▓▓ "
            "     ▓▒▒▒▒▒▓ ▓▒▒▒▒▒▓        ▓▒▒▒▒▒▒▓      "
            "      ▓▒▒▒▒▒▓▒▒▒▒▒▓            ▓▒▒▒▒▒▒▓   "
            "       ▓▒▒▒▒▒▒▒▒▒▓       ▓▓▓▓▓▓   ▓▒▒▒▒▒▓ "
            "        ▓▒▒▒▒▒▒▒▓        ▓▒▒▒▒▒▓▓▓▓▒▒▒▒▒▒▓"
            "         ▓▒▒▒▒▒▓         ▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓ "
            "          ▓▒▒▒▓           ▓▒▒▒▒▒▒▒▒▒▒▒▓▓  "
            "           ▓▓▓             ▓▓▓▓▓▓▓▓▓▓▓    ";

    std::wstring_convert<std::codecvt_utf8_utf16<wchar_t>> converter;
    int offsets[6] = {23, 22, 23, 20, 10, 19};
    int offset = 0;
    for (int row = 0; row < 16; row++) {
        for (int letter = 0; letter < 6; letter++) {
            attron(COLOR_PAIR(letter + 1));
            std::string portion = converter.to_bytes(title_top.substr(offset, offsets[letter]));
            mvprintw(row, offset % width, portion.c_str());
            offset += offsets[letter];
            attroff(COLOR_PAIR(letter + 1));
        }
    }

}

void Menu::Draw() {

}

Menu::Menu() {}
